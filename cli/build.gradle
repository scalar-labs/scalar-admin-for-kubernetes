plugins {
    id 'com.github.johnrengelman.shadow' version '8.1.1'
    id 'java'
}

dependencies {
   implementation project(':lib')
   implementation "info.picocli:picocli:${picocliVersion}"
}

shadowJar {
   archiveBaseName.set('scalar-admin-k8s-cli')
   archiveClassifier.set('')
   manifest {
        attributes 'Main-Class': 'com.scalar.admin.k8s.Cli'
   }

   // this is to merge gRPC service files into the shadow jar
   mergeServiceFiles()
}
